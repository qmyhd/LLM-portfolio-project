# ===============================================
# Database Configuration (PostgreSQL/Supabase)
# ===============================================
# Transaction Pooler connection string (primary)
DATABASE_URL=postgresql://postgres.your-project-ref:[YOUR-PASSWORD]@aws-0-us-west-1.pooler.supabase.com:6543/postgres

# Direct connection string (non-pooling, for migrations)
DATABASE_DIRECT_URL=postgresql://postgres:[YOUR-PASSWORD]@db.your-project-ref.supabase.co:5432/postgres

# Legacy SQLite path — DEPRECATED, no longer used (PostgreSQL-only architecture)
# SQLITE_PATH=data/database/price_history.db

# ===============================================
# Supabase Configuration
# ===============================================
# Project REST API URL
SUPABASE_URL=https://your-project-ref.supabase.co

# Secret key (sb_secret_…) – Server-side key with elevated access
SUPABASE_SERVICE_ROLE_KEY=sb_secret_your_secret_key_here

# Publishable key (sb_publishable_…) – Client-side key
SUPABASE_ANON_KEY=sb_publishable_your_publishable_key_here

# ===============================================
# JWT Configuration
# ===============================================
# Public key from ECC (P-256) entry for JWT verification
JWT_PUBLIC_KEY=your_jwt_public_key_here

# JWT secret for token signing
JWT_SECRET=your_jwt_secret_here

# Private key for server-side token signing (if needed)
JWT_PRIVATE_KEY=your_jwt_private_key_here

# ===============================================
# Legacy Supabase Keys (backward compatibility)
# ===============================================
# These are maintained for backward compatibility but will use new keys above
anon_public=your_legacy_anon_key_here
service_role=your_legacy_service_role_key_here
Supabase_ID=your_project_ref
JWT_Secret_Key=your_jwt_secret_here

# Data update frequency in seconds (default: 2 hours)
DATA_UPDATE_INTERVAL=7200

# ===============================================
# Discord Bot Configuration
# ===============================================
# Get bot token from Discord Developer Portal
DISCORD_BOT_TOKEN=your_discord_bot_token_here
DISCORD_CLIENT_ID=your_discord_client_id_here
DISCORD_CLIENT_SECRET=your_discord_client_secret_here

# Comma-separated Discord channel IDs to monitor
LOG_CHANNEL_IDS=123456789,987654321

# ===============================================
# SnapTrade/Robinhood API Configuration
# ===============================================
# Get these from SnapTrade dashboard after registering
SNAPTRADE_CLIENT_ID=your_snaptrade_client_id
SNAPTRADE_CONSUMER_KEY=your_snaptrade_consumer_key
SNAPTRADE_CLIENT_SECRET=your_snaptrade_client_secret

# User-specific SnapTrade credentials
SNAPTRADE_USER_ID=your_user_id
SNAPTRADE_USER_SECRET=your_user_secret

# Alternative format (legacy support)
userId=your_user_id
userSecret=your_user_secret

# Your Robinhood account ID from SnapTrade
ROBINHOOD_ACCOUNT_ID=your_robinhood_account_id
ROBINHOOD_USERNAME=your_robinhood_username

# ===============================================
# Twitter/X API Configuration
# ===============================================
# Get these from Twitter Developer Portal
TWITTER_API_KEY=your_twitter_api_key
TWITTER_API_SECRET_KEY=your_twitter_api_secret
TWITTER_ACCESS_TOKEN=your_twitter_access_token
TWITTER_ACCESS_TOKEN_SECRET=your_twitter_access_token_secret
TWITTER_Client_ID=your_twitter_client_id
TWITTER_Client_Secret=your_twitter_client_secret

# Bearer token for Twitter API v2 (required for bot functionality)
TWITTER_BEARER_TOKEN=your_twitter_bearer_token

# ===============================================
# LLM API Keys
# ===============================================
# Primary: Google Gemini (free tier, used first)
GEMINI_API_KEY=your_gemini_api_key

# Fallback: OpenAI API (used if Gemini fails)
OPENAI_API_KEY=your_openai_api_key

# ===============================================
# Optional Configuration
# ===============================================
# GitHub Personal Access Token (for repository operations)
Github_Personal_Access_Token=your_github_pat

# Polygon.io API key (for additional market data)
Polygon_API_KEY=your_polygon_api_key

# ===============================================
# Logo API Configuration
# ===============================================
# Logo.dev - Primary logo provider (get key from logo.dev)
LOGO_DEV_API_KEY=pk_your_logo_dev_publishable_key

# Logokit - Fallback logo provider (get key from logokit.com)
LOGOKIT_API_KEY=pk_your_logokit_api_key

# Logo cache TTL in seconds (default: 86400 = 24 hours)
LOGO_CACHE_TTL_SECONDS=86400

# ===============================================
# Databento Market Data Configuration
# ===============================================
# Get API key from Databento dashboard
DATABENTO_API_KEY=db-your_databento_api_key

# ===============================================
# AWS Configuration (for RDS + S3 storage)
# ===============================================
# RDS PostgreSQL for live OHLCV queries (1-year rolling)
RDS_HOST=your-ohlcv-db.region.rds.amazonaws.com
RDS_PORT=5432
RDS_DATABASE=postgres
RDS_USER=postgres
RDS_PASSWORD=your_rds_password

# S3 for full OHLCV archive
S3_BUCKET_NAME=your-ohlcv-bucket
S3_REGION=us-east-1
S3_RAW_DAILY_PREFIX=ohlcv/daily

# EC2 for running backfills
EC2_HOST=ec2-XX-XXX-XXX-XX.compute-1.amazonaws.com

# Example: Custom data directories (if not using defaults)
# DATA_DIR=/custom/path/to/data
# OUTPUT_DIR=/custom/path/to/output

# Example: Logging configuration
# LOG_LEVEL=INFO
# LOG_FILE=portfolio_journal.log

# ===============================================
# Nightly Pipeline Configuration (EC2)
# ===============================================
# If "1", SnapTrade failure aborts nightly pipeline. Default "0" (continue).
REQUIRE_SNAPTRADE=0

# Batch output directory for NLP processing (default: project_root/batch_output)
# On EC2: /home/ubuntu/llm-portfolio/logs/batch_output
BATCH_OUTPUT_DIR=/home/ubuntu/llm-portfolio/logs/batch_output

# Chart output directory for Discord bot (default: project_root/logs/charts)
# On EC2: /home/ubuntu/llm-portfolio/logs/charts
LLM_CHARTS_DIR=/home/ubuntu/llm-portfolio/logs/charts

# Matplotlib config directory (needed for systemd ProtectHome=read-only)
# On EC2: /home/ubuntu/llm-portfolio/logs/matplotlib
MPLCONFIGDIR=/home/ubuntu/llm-portfolio/logs/matplotlib
